<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>reveal.js - The HTML Presentation Framework</title>

        <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
        <meta name="author" content="Hakim El Hattab">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="css/reveal.min.css">
        <link rel="stylesheet" href="css/theme/default.css" id="theme">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <!-- If the query includes 'print-pdf', use the PDF print sheet -->
        <script>
            document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section>
                  <h1>REPL-driven development</h1>
                  <h2>with Pry!</h2>
                </section>

                <section>
                  <p><b>R</b>ead</p>
                  <p><b>E</b>val</p>
                  <p><b>P</b>rint</p>
                  <p><b>L</b>oop</p>
                </section>

                <section>
                  <h2>One line of ruby!</h2>
                  <pre><code data-trim>
def repl
  loop{ puts eval $stdin.readline }
end
</code></pre>
                </section>

                <section>
                  <h2>12,000 lines of ruby!</h2>

                  <pre><code data-trim>
require 'pry'
binding.pry
                  </code></pre>
                </section>

                <section>
                  <h2>REPL driven development</h2>

                  <ul>
                    <li>Don't write code first.</li>
                    <li>Don't write tests first.</li>
                    <li>Use the REPL first.</li>
                  </ul>
                </section>

                <section style="background: black">
                  <img src="img/logical_awesome.jpg" alt="logical awesome"/>
                </section>

                <section>
                  <h2>P(bug)</h2>

                  <ul>
                    <li>When you write code: ~0.8</li>
                    <li>Github production: ~0.000000008*</li>
                  </ul>

                  <p><small>Github exception-% this week is 0.0008%,
                            assume 1000 method-calls per request.</small></p>

                  <!-- Somewhere between 1 and 10 exceptions per hour, very impressive! -->
                </section>

                <section>
                  <h2>How to get 100,000,000 times better?</h2>

                  <ul>
                    <li>Run the code. =&gt; 1000 times better?</li>
                    <li>Read the code. =&gt; 100 times better?</li>
                    <li>Understand the code. =&gt; 1000 times better?</li>
                  </ul>
                </section>

                <section>
                  <h2>How to get 100,000,000 times better?</h2>

                  <ul>
                    <li>Run the code. =&gt; takes a few seconds?</li>
                    <li>Read the code. =&gt; takes a few minutes?</li>
                    <li>Understand the code. =&gt; takes hours or days?</li>
                  </ul>
                </section>

                <section>
                  <h2>Pry</h2>

                  <ul>
                    <li>Easy to run the code!</li>
                    <li>Easy to read the code!</li>
                    <li>Helps to understand the code...*</li>
                  </ul>

                  <p><small>* Though I usually git clone if I need this.</small></p>
                </section>

                <section>
                  <h1>DEMO</h1>

                  <!--
                  pry(main) [1]> $mongo
                  => <Moped::Session seeds=["localhost"] database=presentation>
                  pry(main) [2]> ? $mongo
                  ...
                  pry(main) [3]> users = $mongo[:users]
                  ...
                  pry(main) [4]> users.find(name: "Conrad")
                  ... :(
                  pry(main) [5]> $ users.find
                  ...
                  pry(main) [6]> ls Moped::Query
                  ...
                  pry(main) [7]> users.find(name: "Conrad").first
                  ... :)
                  pry(main) [8]> users.find(name: {$in: ["Conrad", "Conrad Irwin"]}).first
                  SyntaxError :(
                  pry(main) [8]> users.find(name: {"$in" => ["Conrad", "Conrad Irwin"]}).first
                  ...
                  -->
                </section>

                <section>
                  <h2>Recap</h2>

                  <ul>
                    <li><code>ls</code> shows methods.</li>
                    <li><code>$</code> (<code>show-source</code>) shows code.</li>
                    <li><code>?</code> (<code>show-doc</code>) shows documentation.</li>
                  </ul>
                </section>

                <section>
                  <h2>Downsides of REPL</h2>

                  <ul>
                    <li>Doesn't keep a record.</li>
                    <li>You have to re-test lots.</li>
                    <li>Hard to test large apps.</li>
                  </ul>

                </section>

                <section>

                  <h2>Solution: Tests!</h2>

                  <ol>
                    <li>Find solution in REPL.</li>
                    <li>Record findings in tests.</li>
                    <li>Write code that works first time :).</li>
                  </ol>

                </section>

                <section>
                  <h2>Tests help:</h2>

                  <ul>
                    <li>When code-base is large.</li>
                    <li>With API design.</li>
                    <li>Document assumptions.</li>
                  </ul>
                </section>

                <section>
                  <h2>Downsides of Tests?</h2>

                  <ul>
                    <li>Slow to write.</li>
                    <li>Slow to run.</li>
                    <li>Go out of date.</li>
                  </ul>

                </section>

                <section>
                  <h2>Pry can help!</h2>

                  <ul>
                    <li><code>gem install pry-plus</code></li>
                    <li><code>require 'pry-rescue/minitest'</code></li>
                    <li><code>require 'pry-rescue/rspec'</code></li>
                  </ul>
                </section>

                <section>
                  <h1>DEMO</h1>
                  <!--

                    ruby test_mongo.rb

                    pry(main) [1]> break find_user
                    ...
                    pry(main) [2]> try-again
                    ...
                    pry(main) [3]> step
                    ...
                    pry(main) [3]> step
                    ...
                    pry(main) [3]> step
                    ...
                    pry(main) [4]> play -l 5
                    ...
                    pry(main) [5]> names
                    ...
                    pry(main) [6]> edit -c
                    ...
                    pry(main) [9]> <ctrl-d>
                    ...
                    pry(main) [7]> break
                    ...
                    pry(main) [8]> break -d 1
                    ...
                    pry(main) [10]> try-again

                  -->
                </section>

                <section>
                  <h2>Recap</h2>

                  <ul>
                    <li>try-again</li>
                    <li>break</li>
                    <li>step / next</li>
                    <li>play</li>
                    <li>edit</li>
                  </ul>
                </section>

                <section>
                  <h2>Even with testing</h2>

                  <ul>
                    <li>Bugs slip through.</li>
                    <li>Become harder to catch.</li>
                    <li>Require longer to debug.</li>
                  </ul>
                </section>

                <section>
                  <h2>Uncaught bugs</h2>

                  <ul>
                    <li>Have confusing messages.</li>
                    <li>Come from unexpected places.</li>
                    <li>Require thought.</li>
                  </ul>
                </section>

                <section>
                  <h1>DEMO</h1>

                  <!--
                  ruby run.rb
                  <crash>
                  pry
                  pry(main) [1]> cat run.rb
                  ...
                  pry(main) [2]> edit run.rb
                  ...
                  pry(main) [1]> request.first_name
                  ...
                  pry(main) [2]> cd request
                  ...
                  pry(main) [3]> $ first_name
                  ...
                  pry(main) [4]> @data
                  ...
                  pry(main) [4]> edit
                  ...
                  pry(main) [5]> first_name
                  ...
                  pry(main) [6]> cd ..
                  ...
                  pry(main) [6]> <ctrl-d>
                  ...
                  pry(main) [3]> whereami
                  ...
                  pry(main) [4]> play -l 6
                  ...
                  pry(main) <ctrl-d>
                  ...
                  -->

                </section>

                <section>
                  <h2>Recap</h2>

                  <ul>
                    <li>binding.pry</li>
                    <li>cd</li>
                    <li>up / down</li>
                    <li>whereami</li>
                    <li>help</li>
                  </ul>
                </section>

                <section>
                  <h2>Use a REPL</h2>

                  <ul>
                    <li>Saves time</li>
                    <li>Improves quality</li>
                    <li>More fun!</li>
                  </ul>
                </section>

                <section>
                  <h2>Use Pry!</h2>

                  <ul>
                    <li>Featureful</li>
                    <li>Robust</li>
                    <li>Friendly</li>
                  </ul>
                </section>

                <section>
                  <h1>REPL-driven development</h1>
                  <h2>with Pry!</h2>
                  <p>@Conradirwin</p>

                </section>
            </div>

        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.min.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: false,
                progress: true,
                history: true,
                center: true,
                width: 1024,
                height: 768,
                margin: 0,

                theme: Reveal.getQueryHash().theme || 'simple', // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'none', // default/cube/page/concave/zoom/linear/fade/none

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
                ]
            });

        </script>

    </body>
</html>
